(this.webpackJsonpgraphapp=this.webpackJsonpgraphapp||[]).push([[0],{238:function(e,t,a){},271:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(109),c=a.n(s),i=a(73),o=a.n(i),d=a(110),l=a(16),b=a(119),u=a(59),j=a(116),h=a.n(j),m=(a(238),a(120)),p=a(284),O=a(287),f=a(8),x=Object(p.a)((function(e){return{root:{display:"flex",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}}}}));function v(){var e=x();return Object(f.jsx)("div",{className:e.root,children:Object(f.jsx)(O.a,{})})}var g=a(39),y=a.n(g),N=function(){var e=Object(n.useState)(!0),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(l.a)(s,2),i=c[0],j=c[1],p=Object(n.useState)(y()().subtract(7,"days").format("YYYY-MM-DD")),O=Object(l.a)(p,2),x=O[0],g=O[1],N=Object(n.useState)(y()().format("YYYY-MM-DD")),S=Object(l.a)(N,2),Y=S[0],w=S[1],C=Object(n.useState)({}),D=Object(l.a)(C,2),L=D[0],k=D[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,a,n,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y()(x).format("LLLL"),a=y()(Y).format("LLLL"),e.prev=2,e.next=5,h.a.get("https://api.carbonintensity.org.uk/intensity/".concat(x,"/").concat(Y));case 5:n=e.sent,s=n.data,r(!1),c=s.data[0].intensity.forecast,i=s.data[0].intensity.actual,k({labels:[t+" to "+a],parsing:!1,responsive:!0,datasets:[{label:"Forecast",data:[c],backgroundColor:["rgba(44, 130, 201, 1)"],borderColor:["rgba(44, 130, 201, 1)"],borderWidth:5},{label:"Actual",data:[i],backgroundColor:["rgba(42, 187, 155, 1)"],borderColor:["rgba(42, 187, 155, 1)"],borderWidth:5}]}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),r(!1),j(e.t0.response.data.error.message);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[Y,x]);var M=u.a().shape({start:u.b().matches(/^\d{4}-\d{2}-\d{2}$/).required(),end:u.b().matches(/^\d{4}-\d{2}-\d{2}$/).required()});return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("div",{className:"title",children:[Object(f.jsx)("h1",{className:"text",children:"National Grid"}),Object(f.jsx)("p",{className:"text",children:"The carbon intensity of electricity is a measure of how much CO2 emissions are produced per kilowatt hour of electricity consumed."}),Object(f.jsx)("p",{className:"text",children:"The 'actual' value (green line) is the estimated carbon intensity from metered generation. The 'forecast' value (blue line) is our forecast. The carbon intensity of electricity is sensitive to small changes in carbon-intensive generation. Carbon intensity varies by hour, day, and season due to changes in electricity demand, low carbon generation (wind, solar, hydro, nuclear, biomass) and conventional generation."})]}),i.length>0&&Object(f.jsx)("div",{className:"error",children:i}),Object(f.jsxs)("div",{className:"chart",children:[a?Object(f.jsx)(v,{}):Object(f.jsx)(m.a,{data:L}),Object(f.jsxs)("div",{className:"user-input-section",children:[Object(f.jsx)("p",{className:"text",children:"Select a start date and end date in the boxes below in the format YYYY-MM-DD. Data is retrieved in UTC time and is displayed in the graph above. Only 14 days of data can be processed at a time. Data cannot be shown between years. Data is only available after 2017-09-26."}),Object(f.jsx)(b.a,{validationSchema:M,initialValues:{end:Y,start:x},onSubmit:function(e){return console.log(e)},children:function(e){var t=e.values,a=e.touched,n=e.handleSubmit,r=e.errors,s=e.handleBlur,c=e.handleChange;return Object(f.jsxs)("form",{onSubmit:n,children:[Object(f.jsxs)("label",{children:[Object(f.jsx)("h2",{className:"text",children:"Start"}),Object(f.jsx)("input",{required:!0,value:t.start,name:"start",type:"date",onChange:function(e){c(e),g(e.target.value)},onBlur:s}),a.start&&r.start&&Object(f.jsx)("div",{className:"error",children:r.start})]}),Object(f.jsxs)("label",{children:[Object(f.jsx)("h2",{className:"text",children:"End"}),Object(f.jsx)("input",{required:!0,value:t.end,name:"end",type:"date",onChange:function(e){c(e),w(e.target.value)},onBlur:s}),a.end&&r.end&&Object(f.jsx)("div",{className:"error",children:r.end})]})]})}})]})]})]})};var S=function(){return Object(f.jsx)(N,{})};c.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(S,{})}),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.29c54f4d.chunk.js.map